# New in 11.6: LBAC for Metrics Data Sources | Demo | Grafana Labs

Learn how LBAC for metrics data sources, a feature in Grafana 11.6, allows fine-grained access control to data sources by filtering ...

Published on 2025-03-26T18:01:42Z

URL: https://www.youtube.com/watch?v=gj27qKPSVsM

Transcript: Hey folks, I'm Sarah, product manager at Grafana, focusing on identity and access management. Today we're going to talk about the new ability to create elback rules within a data source. The problem we were trying to solve is that in the past you could have one set of elback rules applied to one individual data source. Um, so for Graphfana admin teams trying to create a centralized data uh uh dashboard that lots of teams could use um if you wanted to have elback rules per team, you'd need to create a data source per team and then potentially even a dashboard per team. So I'm in this instance as a graphana admin. Here I've got a dashboard super application metrics which I want to share with many teams but filtered with different elback rules per team. Here you can see this is the label that I'm going to want to filter on. And as the admin here I can see all of the labels that are available today. Now if I go to this instance where I'm a member of a team, I'm a member of the team that's called Paris. looking at that dashboard, the same dashboard. So far, I can't see any data at all. Right. So, let's go and have a look at what's going on in the permissions. If I jump in here, then I can see that only admins can admin. I've removed the viewer and editor access. So, that's why that person in the team couldn't view anything yet. Now I'm going to add the Paris team with the permission to query the data and then I'll add the elback rule. And I'm going to filter on that probe label but just so that they can see the probe label called Paris. Here we go. So, we've got now the Paris team can see the the Paris table only. And just for kind of comprehensiveness. Um, I think it's easier to to see and understand, we could then add another team as an example. So we've added the Amsterdam team and we'll add them an elback rule too. And for them it will be let's assume that they want to see the pro label Amsterdam. Okay. Okay. So, what we're looking at here is we've got two teams that are able to query the data source, but the Amsterdam team can only view um metrics labeled with the probe Amsterdam and the Paris team can only view metrics labeled with the probe Paris. So, if I head on over to my user who's in the Paris team and refresh, perfect. Now, you can see that uh on their dashboard that they're looking at, which is the same one the admin was looking at, everything is filtered. So they only see probe equals Paris. Again, if I go up to this, just to kind of make the point, if I go up and try and filter on probe, I can only filter on probe equals Paris. There's nothing else I can filter on. So that's worked nicely. And you can imagine that this is how Graphfana admin could set up one data source and provide many teams access, but they can only see the data that they should be allowed to see. There's another nice use case to think through which is if you have some secure data um which maybe has a label such as secure and everything else should be available to all teams. So what we can do there is use the operator not equal to. So I can reset the label now to be for the Paris team. They can only view metrics data with probe not equal to Paris which you could imagine is actually um they can view every label except for those equal to secure if that was existing here. And now if I go back to that dashboard, I'm in the Paris team and I refresh again. Have to take away my label. That's interesting. Right. So at the moment I've got the filter on probe equals Paris and suddenly I can't see any data. But if I take that away ah I can see all the data just not the Paris data because I've updated the elback rule for the Paris team so that they can see all labels except for Paris labels.

