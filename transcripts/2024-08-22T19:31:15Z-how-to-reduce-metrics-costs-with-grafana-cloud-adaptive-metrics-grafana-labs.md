# How to Reduce Metrics Costs with Grafana Cloud Adaptive Metrics | Grafana Labs

Grafana Cloud Adaptive Metrics has helped users save up to 70% on observability costs by automatically aggregating unused ...

Published on 2024-08-22T19:31:15Z

URL: https://www.youtube.com/watch?v=ZkXJIQYbUVs

Transcript: hi I'm Patrick oerson I'm a principal engineer here at gra labs and today we'll dive into adaptive metrics and how you can use it to optimize your cost savings the most common source of increased costs in observability is an unnecessary High cardinality label adaptive metrics will find those labels and I'll recommend dropping them if they're unused instead of storing everything we'll store an aggregated time series based on your usage patterns we analyze your dashboards alerting and recording rules and any queries from any Source in the last 30 days and we'll only recommend dropping labels that are never used we also preserve common labels used in popular Technologies so for example we will preserve labels that are often used when diagnosing issues with kubernetes even if you've never used those labels we'll make sure they're there when you need them adaptive metrics continuously adapts to changes in your observability stack using machine learning principles ensuring you only keep the most valuable metrics this addresses the common problem of data overload in observability which leads to high costs and complexity with adaptive metrics you maintain effective observability while reducing costs the Adaptive aspect of adaptive metrics is what sets it apart at first you'll have recommendations to drop labels and save some money but once you start aggregating data it'll continuously analyze your metrics usage and identify anywhere you're using data that was dropped we look at usage signals such as whether a metric is used in dashboards alerting rules ad hog queries we only suggest metrics to be aggregated if we can do so without impacting your observability unlike manual rule setup which requires you to identify and configure each aggregation rule adaptive metrics automates this process manual setups can be timec consuming and error prone and they require that you have a deep knowledge of all of the data and how it could be used adapter metrics removes this burden by continuously updating its recommendations and analyzing your usage this ensures your metrics remain cost- effective without constant manual intervention saving you time and improving the efficiency of your observability strategy okay so let's jump into the adapter metrics UI when you first visit the UI you're presented with this overview it'll show you how much you're already saving and kind of a walkthrough of how it works if we jump into the rules tab you'll see a list of recommendations that are already available for each recommendation you can see the metric name you can see how many series that you may save and you can also get a little bit more information by expanding here so you'll see this one is an engine X metric it was used in 139 queries and and in those queries we never use the server or Upstream labels so adapter metrics is suggesting that we drop them to save 360 time series once you apply a recommendation you'll see this prompt telling you how much you can expect to [Music] save and now you can see here that this recommendation is currently applied if you later decide that you need that data or maybe your usage patterns change we will detect that and we we will show you a new recommendation here to update that rule or you can always come in and just remove it yourself by editing and removing the rule say you have some additional data that you aren't using regularly but you know you need with exemptions you can specify additional labels or metrics that you'd like to keep even if you're not using them regularly you can do that by jumping over here choosing a metric say for example that engine X metric we saw for and uh choosing which labels we think are important say for example Upstream once we create this metric adapter metrics will no longer recommend any rule that involves dropping that label that we've decided we need we've heard some common concerns around adapt a metrics particularly around data loss you might worry that essential data won't be there when you need it to address these concerns adapter metrics continuously updates your recommendations as your usage patterns change and offers exemptions to keep you in control with exemptions you can tell us for example things like I really need this label because I use it for auditing or for cost management or maybe I'm working on a new feature and I don't want to aggregate anything related to that feature until I know it's more stable any of these use cases can be specified through exemptions and once these exemptions are configured you'll no longer get recommendations to aggregate that data that you need you can also always review recommendations and decide which ones to apply this keeps you in control of your observability and make sure that nothing you need is missing when you need it most lastly adaptive metrics will detect any time a query can't be served because of some missing data and will produce new recommendations to either update or even remove rules in order to fix it for you over 1500 organizations in counting are saving with adaptive metrics with some saving as much as 70% these savings have allowed them to further invest in observability improve the overall relability of their systems meet their slas and ultimately to grow their business adaptive metrics is enabled for all stacks and Graff a cloud including our actually useful free plan try it today

