# How to Use the Logs Drilldown App (Previously Explore Logs) for Grafana

Update: As of Feb. 20, 2025, the Explore apps (Explore Metrics, Explore Logs, Explore Traces, Explore Profiles) are now the ...

Published on 2024-11-13T16:00:37Z

URL: https://www.youtube.com/watch?v=eXwE2vqLcyY

Transcript: explore logs is a new app for both the open source and Cloud versions of grafana that lets us browse and visualize our log data without having to use log ql code here's our senior software engineer on the Loki team Trevor Whitney talking us through the work that he's done on the explor logs app and how to use it okay so this is play. cart.org so this is a um sort of demo like sample um grafana instance that anyone can so you can go here um and you can play around um with graphon features and so here is the explore section that we were talking about so the top level explore this is going to be your traditional Code and low code um experience and then each of these apps is going to be the uh no code experience um and so we'll go to logs and so the first thing that you see is a um list of um services so one of the new features that um we rolled out in our latest um Loki I think it landed in 32 it might be in 31 as well but I know for sure it's in 32 is this service detection um where we are going to try and Define a service uh for each log stream that comes in and so you can either specify that yourself by setting the service name um label or we're going to use a list of labels to pick from and I don't remember what that is off the top of my head um it may be in docs um I can find that um asynchronously and post that later um but uh here are some example of services that it found and so it's going to show you the um a histogram of the log volume um by uh well volume in terms of count so uh count of log lines um by level as well as a sample of the log lines um next to there so when I find a service that I care about so let's say I'm going to go in here into this ingester um so then I get a bigger version of that same histogram and I can select a smaller time range um and then these are the log lines for that time range um if I want to search Within These log lines I can do that here um and so that's going to find maybe just the log line that are match my string that I'm looking for uh and like here we notice the histogram change so none of these log lines for example are erroring um I can get rid of that go back to this full view I can also drill into specific labels uh so for example maybe I know that um there was a problem in prod so I'm going to go here and I can hit include prod um and so that's going to um now if I go back to my logs view this is only logs coming from the prod environment um another thing that we can then do is Fields so Fields represent um the um sort of field uh the label value pairs that are present in structured log lines uh so this may be a log formatted log line or a Json formatted log line uh we are going to automatically detect the type um if any of your log lines we're going to parse out the fields and then we're going to parse out the Val vales so for example maybe I was um I got a page because of um some sort of like uh Max size of uh of a trace or something like that for a certain tenant so um of course I I picked Tempo the service I don't work on um uh you know is good it shows that anyone right can navigate any logs uh but let but but now that I'm seeing that there's a bunch Trace too large I'm realizing that's a bad example so let's say always got a a page about something related to getting uh items from the cache and so I can go ahead and include that message um and now you know I can see like oh maybe like I'm seeing a lot more ER yeah look so this is all errors now um so I've narrowed it down using the detected field of this message and go back to these logs and now I'm sort of like able to to drill into this and maybe the thing I care about is like fetching these IP addresses or something like that um and then the last tab that we have here the one that I was uh commenting is enabled by that pattern ingestor right yeah so all of these patterns are specific to explore logs and um are are produced by the pattern ingestor so um and we also have added pattern support to the query language so if you come in here you can add one of these patterns um to the um to the actual query and filter log lines based down on that pattern only the pattern ingestor logic is solely for the purpose of um producing this page um and the tokenization as you can see here is we look for in we we we pass all the log lines through a drain algorithm um for um the pattern ingestor here and we try to pull out High cardinality values so things like you know the Tim stamp and then these sort of like version old ver like these things change a lot per log line but then these level debug like so so basically what we're finding here is there's a broadcast. go whenever it uh emits this message um it's sort of always at a level debug right it's always from this file and then there's these pieces that change per uh log line but if you were looking for something like um I mean maybe this one's a better example where it's like I'm again I was looking for those mcash errors uh maybe I don't care the specific text of the error message or I don't care about the specific timestamp but I want to find all of my failed to get keys from mcash uh and so I can include that there we go so now we're only getting these um failed to get keys from memcache errors so this pattern has now been added to the actual query um and filtered down and now this is maybe a bad case right because I also have this message here um and so I mean patterns might have been a quicker way to get to sort of log lines with that message um because we have this nice sort of view of like um how what percent of my logs are are this pattern right um and so you know in this time range 14% of my logs were this error message um so that's sort of the usefulness of patterns that was a snippet from a Loki Community call that I did with a bunch of my colleagues including Trevor all about explore logs if you want to know more then click on this video to watch the whole thing

