# Grafana Loki Community call [2024-03-07]

Join our next Grafana Loki community call: ...

Published on 2024-03-07T13:34:55Z

URL: https://www.youtube.com/watch?v=HSLfVX3HktA

Transcript: all right I think it's started cool yeah let's get started hello everyone um welcome everyone for uh the March edition of Loki Community call uh I'm myself kabi um and we have also Salva from our Lis team today um so yeah I'm uh we are Engineers working in Loki uh primarily we also take care of Loki SAU um yeah so we don't have much for the agenda per se also it's bit uh hackathon week in grafana so not much activity on the community side um so yeah let's let's uh uh go to the agenda by one so so this is the first one is in the the conventional commits um so yeah Loki Community uh so this is one of the ask from the community also anyone who is creating a PR um to the loky repository so the work is mainly from uh Trevor also um from one of the Loki Squad so the basic idea is like uh we want to uh make the commits more consistent um by following this conventional commits and uh this applies to the whole repository um not just the core Loki uh for any PR coming into lowy repository for the hel charts for um tanker related uh dashboards or operator everything that's owned in the Loki repository so that is a issue I created a month ago I guess uh so um yeah if you have any questions or thoughts um you can reply or comment in this issue so the issue we keep track of like what's the um expectation from the community um uh in terms of following these conventional commits so the the primary goal here is to if you have a consistent comments then it's easy to automate uh some of the pain painful uh U things in the release process currently which is release nodes and then change logs uh we are doing it very manually uh at least those things um during this release so yeah the goal is to uh make it automated by uh by that we can maybe release more frequently uh like even every quarter or every month um whenever possible so that's the main goal for the conventional commits yeah feel free to take a look at the issue and share your thoughts if you have any uh okay the second thing is yeah we have a minor uh like a release last week uh 2.9.5 and 2810 so nothing fancy there it's just uh like the main thing is some CVS and then um U some small uh enhancment there so yeah that's yeah if you're running the previous version like 2.9.4 or 28.9 uh feel free to update if the CV matters to you uh the couple of other things I think it's worth mentioning is also we have this updated structure Manata doc so we uh yeah we documented it how to use it how to enable it and then uh some examples maybe I can I can share the whole window probably to show the document uh one sec yes so yeah basically um it will tell you like how to what is struct met data what's the purpose um and why we added it and how to enable those things and how to send structur log metadata and how to quy it back basically how to use it so the the the the basically the user interface part is like you can quy like any other label matcher here um uh so yeah so it's like basically after Line Filter and then so these are the structure meta v ingestor um via the endpoint itself um so yeah so yeah I I I find this document useful when I want to use the structure metadata or debug structure metadata whether it's enabled or not like yeah um I think it's useful uh that's one thing I want to share about the release and yeah this is another small thing I think Danny added this one uh or Ed I don't know I think it's anyway so basically like now we have um entry in this me.go log line which we usually use uh we log for every single query that is run um and now it has a additional information called Chun fetch time so what that means is it can give you information about how how long the um uh for each query how long the the Loki is waiting to get this uh uh chunk reference from the index basically um yeah may be useful to if you see some slow quason want to understand where the time is spent uh so yeah that's some of the highlights of the uh release U 2.9.5 and 2810 and uh yeah if another other question uh the next one is lo 3.o is basically I'm repeating what uh uh NASA had the last month so I think so the the the goal here is at least to launch or finalize um before graphon or during graphon which takes place in 9 and 10th in after time um so yeah so there are so many things coming in loo unfortunately I can't say everything that is some surprise uh related to it so yeah so uh watch out for the date um yeah Lo will be be like a huge release uh and has a lot of cool features to be honest um yeah that's the yeah the final thing is also yeah it's also another repeat from the NASA call last month so now we have this Auto variable it's available from graphon 10.2 I think the latest version in 10.4 if I'm not wrong so so what is it what does that mean for the user is like currently if you're using Loki and doing LL and particularly when you're doing metric queries you have to use interchange uh these two variables uh interval and the range depends on instant qu or metric quy so now you don't have to worry about that these two variables you can just use Auto and graphon will choose the right time range um for the instant tetric codies yeah depends on what type of cod it is and you can find more info about how it works I link the doc here um so yeah basically uh yeah so I think it's available in from 10.2 so I think it yeah if you're a cloud user you already be having it but uh yeah if it's if you have a more than 10.2 think also you uh this variable is available uh that's pretty much it today is I think this time it's also short call I guess uh yeah does anyone have any questions or anything you want to add uh howdi or Salva that I missed feel free the bloom filter work is in the final final steps hopefully yeah been quite busy the last couple of weeks months uh to get the accelerate search work for the 3 release um yeah you can also follow it on GitHub it's open public and uh there been quite a lot of changes a lot of code um yeah uh really excited for this feature yeah and uh yeah there are no there aren't any documentation Pages yet uh so we'll have to be done still but uh it's yeah it's it's not it's not uh a it's probably not for for every specific or every single use case uh an improvement but definitely for most uh large queries spending across a lot of data lot of uh big time ranges yeah yeah that's true thanks howy um yeah I just want to add also like we have a lot of config changes coming in this 3.o I think uh the whole team spent some time in deprecating and cleaning up a lot of configs um so the config looks U bit simpler in 3.o uh mainly particularly because we removed a lot of uh deprecated ones and then yeah the back ends which we don't support anymore or like uh uh it's very old and no one runs it at least most of people the big change basically is that uh the V own support dstp uh yeah in the future and even btp is already replicated as a single store and all non single stor so like no SQL storage backends are deprecated they still work they won't uh get any um support or uh anymore but uh they yeah they continue to work work as as they are now likely to be to be removed in the one of the major releas next major releases yeah that's true thanks for I wanted to add on top of that that we have created a tool that you can run against your config and we will tell you which of those configs are deprecated and which new configs you can use instead do you know uh what's where it is what's the name of the Tool uh uh um config Checker I guess but it's in the to directory but it's not on top of my mind the name I can look it up yeah I think it's called deprecated config Checker oh okay dep and it's not in CMD but in the tools directory okay makes sense yeah nice thanks Sal yeah appreciate it man uh yeah so this tool is basically should tell you um like Salva said like should tell you what are the configs duplicated and also removed right if I understand correctly yeah decate if removes and when it can it will tell you what to use instead yeah and tell you how to upgrade basically right yes that's correct yeah this is great yeah this tool yeah feel free to yeah I think it's really helpful for the community I [Music] guess yeah thanks Salva for adding that one um I think this tool is already in the main I guess but it's not in any of the 2.9 Branch or anything so yeah it will be part of 3.0 yeah if you want to use it now with the if anyone using or anyone following our internal weekly K Branch should be able to still use use it this one now um yeah just want to note there all right cool uh anything else folks uh yeah if not then we can wrap it up I guess yeah thanks uh thanks everyone for joining and um yeah have a nice rest of the week uh see you the next month then yeah see you next time see you bye see you bye

