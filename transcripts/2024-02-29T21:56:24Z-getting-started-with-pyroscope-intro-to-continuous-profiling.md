# Getting started with Pyroscope: Intro to continuous profiling

Grafana Pyroscope is a multi-tenant continuous profiling aggregation system, aligning its architectural design with Grafana Mimir, ...

Published on 2024-02-29T21:56:24Z

URL: https://www.youtube.com/watch?v=XL2yTCPy2e0

Transcript: hello everyone my name is Ryan Perry I'm one of the founders of pyroscope and today I am excited to introduce you to continuous profiling specifically continuous profiling with pyroscope now just as a refresher or for those who maybe don't know already what continuous profiling is is these profiles often represented by a flame graph that basically give you this line level detail about what your application was spending its resources on at any point in time and for any set of labels or metadata that you can attach to these profiles so profiling is very similar to logs metrics in traces in that it allows you to ask a question about your application or something that's going on and then be able to use the information from those various databases in order to answer that question for you and uh profiling very similar often it's considered the fourth pillar of observability but it does a very similar function with the exception of where metrics Trac and logs can tell you some combination of what went wrong where it went wrong uh what profiling tells you is actually what ends up often time being the most important piece which is why it went wrong how to fix it or how to attribute again whatever resources are being spent to specific lines of code that some engineer is probably going to go change in order to resolve some issue that you're going through so in the example of metrics this could be there's a CPU Spike profiles are going to tell you not just that there was a CPU Spike but specifically which lines of code attributed to it um for logs you know maybe you're getting a lot of uh out of memory errors or something like that and they're showing up in the logs again with that information you can kind of start digging and figuring out what's wrong but with profiles you see the exact memory allocations attributed to each object and and how all that space is allocated so that you can then go and resolve the issue and then finally for for traces often times you get down from the trace you're looking at different microservices or whatever it might be you get down to the span level and then profiles help you understand not just that a span was a certain amount of time but specifically during the duration of that span which code was being run and through our community and through some of our customers we've seen three main use cases that we find for people using profiling really effectively one is for faster incident resolution being able to understand a code level details about what your application is doing helps you go and solve it much quicker latency reduction again being able to attribute certain latency to different pieces of code is really important in a lot of Industries for keeping your end users happy and uh avoiding churn and revenue loss from those users going to a competitor being able to optimize for latency is critical um that ends up being true in ride share e-commerce uh banking but many other places as well and then finally is cost cutting and so uh obviously in today's environment a lot of people are very focused on costs and making sure that they are getting the proper return on the on the Investments that they have and so being able to get this line level breakdown of resource utilization allows you to also attribute the cost that you're spending on CPU or memory or other things to the profiles and the pieces of the code themselves so let's say you want to try some of these use cases and see if it applies to your organization which I'm sure at least some of them do uh this is how you get started with pyroscope so the first thing you'll need is some way to send data from your application to the pyroscope server itself and so we have two methods of doing that one is the pyroscope sdks that's going to be pip install pyroscope gy install pyroscope go get pyroscope uh mpm install pyroscope things like that um the other is our Auto instrumentation which we do via the grafana agent and that's going to be basically a way to get the profiling data from your application without actually changing the code and we do that either via ebpf for some of the supported languages or via uh scraping um we can scrape your PPR in points for example if you're using go and so once you have the data and you're sending it to the server the next thing that you need is the pyroscope server itself so you can obviously s to all of our other databases here at grafana um run this open source and send it uh to a server that you're running yourself or you can use Graff cloud and we host the server scale it all of that stuff for you um but either way you send it to the server where it's stored efficiently and uh and we've added all the functionality for being able to query it efficiently as well and then finally you just need the visualization to view the data which uh you can do obviously with grafana so if you're interested in more information about this we have the introduction section of our documentation you can go there and see a lot more of these details more written out and in in more detail um but if you're just looking to go ahead and get started you can go to the get started page inside of our docs and here we'll basically uh help you get started with the setting up the server in the open source and so there's just uh three steps pretty simple and uh and yeah that's all you have to do and then to set up the data source itself and be able to view that data inside Gana uh there's a couple more steps um as far as configuring the client just go to our configure the client section we'll walk you through the different considerations that you can make between whether or not you use the auto instrumentation or whether or not you use one of the sdks and basically go into detail about for all of the different languages um go java.net python Ruby rust node um most of the major languages uh basically each one of those will show you how to install the pyroscope uh agent on any of those so lastly if you have any questions feel free to reach out to us we're very available on the grafana public slack you can go to the # pyroscope Channel and we will happily answer whatever questions you have can be anything from getting set up to uh what is profiling to um you know how you can pitch it within your organization whatever it might be just let us know and we will happily help there we're also available on GitHub if you have any issues feel free to create one here as well I also want to point out that we have a very robust examples repo or examples folder so if you just go to the repo and go to examples no matter how you're instrumenting your application whether that's via ebpf or go push pull whatever it might be grafana agent you can see an example here and probably get started uh pretty quickly between this in the documentation so that's all I have for you today uh thanks for taking the time to check out pyroscope we hope you really enjoy it and like I said if you have any questions find us on GitHub or slack or wherever else and in the meantime happy profiling

