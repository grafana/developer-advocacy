# Obirdability: Building an Observability System for Bird Songs | GrafanaCON 2024 | Grafana

Scientists believe the total number of bird species in the world to be close to 18000, with conservative estimates of a total bird ...

Published on 2024-04-25T23:11:03Z

URL: https://www.youtube.com/watch?v=mInRa1salmY

Transcript: so hi my name is Iana and this is SW and today we would love to share with you three passions of ours combined into this one talk the first one is being curious about the world that's around us and wanting to learn about everything and anything yeah and the um answer to the next question is hopefully um like obvious who likes visualizing death data with Gana w you don't okay um yeah the next one is rather a niche question and it's kind of the desd of this talk um is going well or not um who likes hearing bird songs okay that's fine enough oh nice a lot of raised hand so for everyone who raised your hand but also for everyone else we have a perfect thing for you a bird song [Music] if anyone familiar with this bird or can you name it yeah correct it's cuckoo and if your native language is not English maybe you will know it under one of these names me and Sven really like this tweet because it perfectly describes our own experience with birds uh but today we are not going to be talking only about bird we are also going to be talking about observability and about integrating observability into something tangible so something that you can touch something that you can see or that you can hear we'll talk about how to select important metrics how to Source them we will build beautiful dashboard conduct investigations and make this whole thing actionable so let's start with getting the most important data data about bird songs yeah so bird songs and observability how do we bring those two topics together and the idea here is to use an application that detects bird songs and build an observability system around that but how did we actually do that and the key application in our system is called um is an application called bird net and bdnet is an AI powered bird sound recognition application it's built by the lab of onology and The cets Institute of Technology and yeah what bernet really is it's like a big machine learning model and it can detect up to 6,000 species now mostly Across America and Europe and one of the coolest things um here to mention is that it's mostly um open source so it's an open source platform and I say platform because you have to distinguish between an mobile application that is kind of close source but has around like 50,000 daily active users and all that data that is um is collected via these mobile application that data is fed back into the system of the corner lab so it can be used there by scientists that's why it's also a citizen science project and the other part is like an analyzing system that is actually open source and we can use that to build our observability system around that and to better help or to help understanding how biret actually works it's good to visualize the data we get from bnet yeah so that use called a spectrogram it's a visual representation of the frequency and the volume over time of an audio and that helps turning this like complicated task of audio recognition and turning it into a more easy task like pattern or image recognition because in the end you see a pattern you see an image right and you can then use a machine learning model to train that and and use that to detect the species in the end and yeah by the way the birds we just heard was a common wood pitchon and a chi CHF and with that let's have a quick look at the infrastructure we we are using here and on the left there's a microphone just a like $25 microphone from Amazon really we connect that via USB to a Raspberry Pi and on that Raspberry Pi we use the the biret application that's running there and then obviously we need some kind of network connection like to rather or to either go to the Raspberry Pi or send data from the ri to the internet basically very simple those are two actual pictures so on the left this little weird looking thing is like the microphone with a little pop filter on top uh at my bikon KN and then obviously the raspberry Pine in a small case let's jump into the data we we get really from from um bernet and we can use to to build our system around that and bernet makes this task very easy because it just locks the detections and at the top we can see some sample lock lines and those contain really like every data we really need so on the far left in yellow we see the time stamp of a detection in Orange we see the name of the the species both in like the scientific Latin language but also in English language and then on the end we have a number and that number is the confidence value which is kind of a number between zero and one so a percentage about like how confident bnet is that the detected species no that the recorded audio is actually this detected species and going back to our infrastructure now we want to stall those logs somewhere and I mean for us it's quite um obvious we want to stall them in low Kei and in fact like we we want to use fun Cloud's offering so fun Cloud locks instance um question still is like how do we get the data from the Rasberry Pi to Loki and I think for all of us that's now also obvious we use grafana aloy for that because grafana has that solution for us and we run a as a small service on 3 Pi that kind of scrapes the logs and sends them over to Gund Cloud for further processing and with that let's have a look at the um data like no at the at the dashboard we buil just using the data and Loki and Gana is the VIS visualization tool here so for example we can see at that day we had nine distinct species and used a small um State timeline diagram here to see all the species of time um the great great spotted woodpecker was very active in the afternoon there and also we have information about like every bird at the at the bottom this one is the EUR Asian blue TI it's very active during the whole day and we have like 18 occurrences of that so in a very simple overview we use grafana and the strength of like visualization data and lowkey to Sol the locks and how we can enrich that data Ian is going to talk about yeah so now when we have the most important data so data about bird songs we can start considering other data that would provide additional context bird net can recognize over 6,000 different bird species so it's almost impossible for anyone in here to know how each bird looks like how it sounds like or even like a short summary fun fact about it additionally would be useful to know circumstances in which these bird tongs occurred for example what was the weather like was there any significant pollution maybe Sven had a garden party that Disturbed all of the birds thir thing all of this by ourself would be a tremendous amount of work and most of it is out there somewhere and as we all know one of the greatest thing about grafana is that your data doesn't have to live in one single place in one single Le database it can live anywhere and you can simply connect it in One dashboard or even in one panel so instead of building this massive monitoring that would have to monitor basically whole environment we decided to search internet for the data and here is what we found so we are using Wikipedia to get information about uh bird its image and audio clip with its song to query we IIA we use Infinity data source and you can see its logo in the circle and as you can see from the diagram it's one of our most favorite data sources and we've used it couple times to query different apis and we really like it because it first of all allows you to query different apis but it also uh then helps you transform different sort of result to your liking then we are using open Metal to get weather conditions we are using Google Sheets to track observations and experiments and when I say observations these are any events that could have any effect on bird song so for example construction work or maybe SW garden party uh and when I say experiments we also did a little experiment with a bird feed uh so we are tracking it here as well for air pollution data we are using air pollution website called called Wy and wack is great but it comes with one limitation and that is it provides data only for past three days but we want air pollution data for every day so to solve this we are using a feature in gra called recorded queries and with recorded queries graph runs request to Wy every 10 minutes and then stores the result in mimir so then in our dashboards we are just quaring mimir and we have air pollution data for every day last but not least we are using data from Ebert platform maybe some of some of you know about it it's a platform where people can share what kind of bird did they see in their area another huge uh benefit of grafana is countless available visualizations many of them created by our amazing Community maybe some of you in here have created some and in our project we are using State timeline geomap we are using Dynamic text panel created by volov labs to show images and to show or to uh to present audio clips um table panel stats panel and time series panel so let's have a look at finished dashboard we are visualizing bird data in relation to other factors that we talked about for example temperature humidity precipitation Sunshine duration sunrise and sunset data or even air pollution then in geomap panel as you can see we are showing what birds have been seen in the area where s lives so in Northern Germany and Southern Denmark area and for every bird we have created a dedicated section where you can see its image short description an audio clip and you can even play the audio clip and of course we see uh data about bird songs in relation to all other factors that we've already talked about we also created this dashboard that's basically just an image of every bird that was recorded in the past year uh in sl's garden and fun thing about bird net is that it recognizes Birds but it also recognizes other things so as you can see we see dog so it can recognize uh dog barking sound of engine or at the bottom there's a frog moving on to our observations investigations and learnings uh so first of all I have mentioned before that we are using Google Sheets to track our observations and experiments then we visualize them as annotation in panels so it's very clear to know when was that event happening in this panel we are seeing Easter bonfires which is a tradition in Germany that was Happ rning couple weeks back and as you can see the bonfire increased the air pollution and then we see significant drop in number of the bird songs you should keep in mind that bonfires are usually during like Sunset evening so we are expecting the number of songs to drop but usually birds are singing till like 7:30 830 p.m. and here there is a like sharp decline at 7:15 but if you would like more bird songs our experiment with leaving bird feed out was very successful and as you can see it has attracted your Asian mpie um so if you would like to have more birds in your area just leave the bird feed out we've analyzed also bird songs uh data in relation to Sunset and Sunrise data and we very scientifically have categorized birds in these uh four groups first one is night singers so it's Birds who uh sometimes also sing at night and we have here Redwing as an example then we have Dawn singers so those are birds who usually sing one to two hours before before the sunrise and we have here European Robin and Blackbird then we have very broad category because most of the birds sing during the day so as an example we have here pigeon mcpie and gred and the last category is the dawn singers so Birds who also sing uh After the Sunset and here we have common shift shev or Eurasian bled we also were looking into weather factors and trying to see if any of these weather factors had any effect on number of the bird songs and as you can see from this visualization temperature specifically too low of a temperature or cold weather has effect on bird s singing habit and birds are singing less than usual they're probably protecting their energy yeah so that's pretty cool cool already right um we have a lot of data we have beautiful dashboards we even don't have to go out anymore to listen to birds so what now um we wanted to turn that also into something actionable and actually we have a alert for Matt's favorite song The Blackbird here um we see it firing at 7 in the morning so that's a nice way to to get up and and wake up to hearing to to the uran Blackbird and we are also still waiting for this one to to Fire and to give the Atlantic puffen a visit um the back story here is when Ivana was creating the dashboards and was looking into the data she saw a detection of the Puffin at the middle of the night and yeah I'm super curious if it's going to visit me again or maybe was a thoughts positive who knows actually that is a Atlantic puffin um for all of those who didn't know super cute right um yeah alerts we also have slos um with the great SLO app in g under cloud and the backstory here is um I noticed that bird net doesn't even like only um detect bird sounds but also Sirens from emergency vehicles so now I have a SLO to help me monitor the nearby fire department and maybe go out to complain about too many sirens or just have a look at fire trucks I guess I mean burn rate Alerts get a different meaning with that I guess well without jokes all the steps we did in our little journey can easily be shared to like real or business use cases even though looking at CPU or memory load is not that exciting as like watching puffins or listening to CH chefs the steps of gathering metrics enriching them correlating them with other signals visualizing them in Gana making them AC actionable those steps can be shared across of a lot of use cases and we just use bird birds as an example example so basically every occurrence of bird can be replace replaced by another metric for example by CPU and yeah last but not least we um don't want to hold our great dashboards and the the data we gathered back so we created two public dashboards um scan the uh QR codes or yeah wait for the links later and with that thank you all for listening and happy biring [Applause]

