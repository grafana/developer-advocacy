# Grafana k6 Studio is Now Generally Available! | Demo | Grafana Labs | Performance Testing

Watch a deep-dive demo of Grafana k6 Studio, an open source desktop application that helps you create k6 test scripts quickly ...

Published on 2025-03-20T19:16:04Z

URL: https://www.youtube.com/watch?v=3sGHDH4-Z3w

Transcript: hi there my name is Tom and in this video I'll be demonstrating the capabilities of Kasich Studio version 1.0 what you're about to see represents around 10 months worth of engineering effort by a team of passionate developers with a mandate to improve the test authoring experience in K6 we're very excited to bring Studio out of public preview and into general availability with this 1.0 release although we're making a big deal out of this particular release rest assured that there's still plenty of functionality we'd like to bring to it the project is very much still under active development that also means it's a great time to get involved feel free to visit the GitHub repo we'd love to hear your thoughts and feedback so let's dive right in starting with the million-doll question what exactly is Ksix Studio well Ksix Studio is an application developed by Grafana Labs that aims to simplify Ksix script creation it has a user interface designed to help visualize the scripting process all the way through recording to execution and debugging it provides a proxy recorder for capturing HTTP traffic a script generator that can leverage rules to modify generated script code and a validator able to display detailed HTTP request and response data seen by a Ksix script when it's run you can see it in action here and I'll switch over to a live demonstration in a moment but while this real highlights the types of things we've added I wanted to take the opportunity to talk about why we felt this was an important project for us to embark on as anyone that's ever needed to automate HTTP will tell you it can be rather tricky at times web servers can be really finicky when it comes to the format of HTTP requests sent to it even the smallest typo in some post data can result in unexpected responses making matters worse is the fact that there isn't anything in the HTTP spec that says a server must tell you the client exactly what the problem was other times and this is quite common for websites you'll find the HTTP conversation is riddled with dynamic values being sent back and forth requiring you to extract them from responses and then use them in subsequent requests as soon as this isn't done properly you're again faced with unexpected responses fundamentally we're talking about reverse engineering HTTP and that's not always a walk in the park but what makes it more manageable is having some means of easily viewing HTTP request and response data or being able to record HTTP traffic and converting this into a script instead of writing code from scratch the tools we've built into Ksix Studio have been designed to address these challenges with the end goal being to lessen and in some cases even outright remove the need to write Ksix JavaScript okay let me now take you through a typical flow in Ksix Studio starting from from the beginning and we'll go through the recorder the generator and validator starting off with the recorder we'll this button to record a new flow we'll enter in the starting URL of the site we want to navigate to and then hit start recording that'll cause the browser to appear in this case Chrome and in the background we'll see Ksix Studio uh the recorder picking up uh the request that just happened when launching that initial page so straight away the biggest difference to our existing uh browser extension recorder um we now have the ability to rename groups and define when exactly we want groups to appear in the script so so groups are a way of being able to describe actions that the user performs and they'll also generate a time for how long it took to complete all of the requests within the group so uh let's rename that initial group to something more human readable and now we can also uh decide that well we'll want to create a new group here we're about to perform another action let's call this select product and then we'll perform the action in the browser again we've got a bunch of requests appearing that took place during that uh selecting of a product next we'll do add to cart and then finally place order now once we're happy with the recording all we have to do is close the browser or hit the stop recording button and that'll take us back into Ksix Studio where we now have a recording appear here the list of requests here will contain absolutely everything that was recorded but don't worry though you'll get an opportunity to filter out unwanted traffic when we create the test generator for now you might want to take a look at the recorded traffic so we can select any request in this list and see both the request parameters as well as the response uh depending on what kind of response it is you might also be able to preview it that gives a different view of the data in this case it was some HTML so we do our best to render that HTML in the case of something like JSON there also a specific uh view of JSON data as well the next logical step is to create a test generator so let's hit that button uh now we get the opportunity to filter out a host that we're not interested in in this case we we just want the traffic that went to our actual uh demo site itself here hitting continue we now have a reduced list that's only for those uh for the requests to that endpoint or to that host as well as that we've got some more options available uh at the top here the first of which is uh the script tab that just shows you the script representation of that list of requests so this is a a case script that you would be able to run straight away if you wanted to um but chances are there's still some some things that need to be done to the script to get it to do exactly what we want we also have uh the ability to modify the test options so the options object is quite a core concept in a Ksix script it allows you to say how many virtual users you want to run you know should they ramp up over a period of time how long should they stay at a particular uh level of virtue users uh those kinds of settings can be defined uh here you can also set thresholds so maybe we want to ensure that our response times uh remain below a certain value in this test otherwise that threshold would be considered to have failed um so we can just define that uh through this UI instead of having to write the actual code for it so again you'll see the the code has appeared in this script that updates in real time as you make changes to these various different settings you can also set the think time the delay between performing uh uh requests or or groups in this case so uh that allows you to easily uh adjust uh some pretty common parameters that you might want to change and we can also determine if we want to generate this load from different geographical locations should be we uh running this test in graphana cloud casings the next tab here is for setting up test data uh so we already have a data file here called session ids that just contains a list of uh various session ids that we want to use in this test so maybe we want to uh make that available to this generator which case we just have to add that data file here when it comes to using this data for now we just have a single access method we'll have more as time goes on but for now each virtue user will attempt to grab a unique entry from that list of session IDs and use that in each iteration and finally here we just have that ability to modify the uh hosts uh list of you know the ones we want to include in this test in the bottom half of the screen we have the ability to uh view and edit test rules so you'll see here we already have one in here by default it's a verification rule all that's really going to do is to put in a check statement into the script and that check will um execute and determine whether or not we receive the expected status code and we're we're comparing uh the correct status code with what was in the recording so if we don't get the recorded if we don't get the status codes that we saw in the recording uh that check will fail so that's an easy way to um gauge whether or not your script is doing what you expect it to be doing if we go back to the list of rules let's now add another one so let's start with a primitization rule that allow us to modify request data so instead of perhaps using these this hard-coded session ID you'll see it's in exists in the URL here maybe we want to take that out and instead replace it with one of our uh session IDs from the data file um we can do so by setting this target to URL the value we want to modify is in the URL and we want to replace the actual text that we saw in that recording so I just paste in the session ID from the recording there you'll see we've got matches for it here we haven't yet determined what to replace it with so uh now there's just simply no uh session ID populated here at all uh we can toggle this view original requests here to see you know what was originally recorded and how the rule has uh modified things but because we haven't put anything in here yet it's it's just gotten rid of it entirely so let's set this replace value uh with data file so we'll link up to our session ids data file and say we want to replace it with the session ID value in there so now we see the actual code that would get generated uh when we apply this rule again we can also see that in the script representation now search for session ID we should see where that happens so that's what the resulting code looks like next up let's take a look at the correlation rule so that's going to be doing a similar sort of thing to prioritization but it's also going to be able to extract a value from a response and so in this case go back going back to our list of requests we know that we're selecting a particular product if we look at this response here we've got a list of product IDs maybe we want to make sure that we always select this first uh product ID and so in order to apply this rule uh we'll want to uh specify where we want to extract the value from so it's in the response body of this request and because we're dealing with JSON we can select the JSON extractor here now the path we want to use in this case we're dealing with a JSON array so to select the first ID uh property of an object in this array we'll we'll just use this uh JSON path here we're just interested in the first match um so we'll just set it to extract once if you wanted to repeat the extraction uh then you would select this most recent match option instead now the value we want to uh replace this with usually you'll leave this by default uh it'll just replace that value wherever it originally appeared in the script uh sometimes you might want to filter it uh to only make the replacement in particular places uh yeah the default is is that you typically want to replace it wherever the value appeared so again we can see that the rule matched on this particular request where we're performing the extraction then further down we should see where uh that correlated value is being used you can see it here there was a product ids property in the URL that's now being replaced with this correlation varss object that contains uh the value that we extracted it's appears in quite a lot of places so right away this this rule has already uh made quite a quite an impact on uh the uh script that would be uh generated from uh this generator let's add another rule here uh there's also a custom code rule that does allow you to place arbitrary code uh code into your script um at particular placements in the script so let's say you want to verify that the order uh was placed successfully in this case um the uh checkout request is this one here uh if I go back to the list of requests it's this post request here that's when we're uh making our uh order and we should as a result of making that order receive an order ID back so maybe we just want to uh ensure that the J uh the JSON that we get back contains this order ID property and if that's the case maybe we'll print out a message that says successfully placed order with ID and then just enter that order ID value all right that's it now once you're happy with the rules that you've created you can attempt to run this script uh so there's two ways of doing that either you uh select the validate script option here or you first export the script doing so causes it to appear in this list over here and selecting it brings the um brings up the validator view here where you can click to validate the script so uh Ksix is bundled with Ksix Studio so uh this is now you know showing you what it looks like to run uh the Ksix script um an immediate difference that you'll find when comparing this to running Ksix from the command line is well you've got that same list of requests appearing as you saw when selecting a recording and we can inspect these requests as if it were a recording as well so we have the ability to um gain access to quite a lot of information that would typically be challenging to find you would have to put console log statements throughout your script code uh in order to to do this kind of debugging and uh that meant quite a lot of uh boilerplate co code being added to your script now you can just run this through the validator uh to get the necessary information out as well as that we have tabs for showing any logs produced by the execution of the script as well as the outcome of any checks that were defined in it as well so that covers the main functionality in Graphana Cloud K6 when it comes to recording generating and validating your scripts the last thing I'll show you is something that was added in the 1.0 O release and that is the ability to run this script in graphana cloud so once you've authenticated to the cloud involves a couple of steps to do that um it becomes a single click button to upload this test and run it in Grafonda Cloud K6 simple as that so that pretty much sums up this video i hope you enjoyed it and that you liked what you saw um we still like I said earlier we still have a lot of uh plans for Ksix Studio moving forward as mentioned in the blog post one of the next things uh to arrive will be the ability to record Ksix browser scripts i'm very excited about that uh it'll make it much easier to get started with Ksix browser and so yeah we hope you'll like it that's all for now and thank you for watching

