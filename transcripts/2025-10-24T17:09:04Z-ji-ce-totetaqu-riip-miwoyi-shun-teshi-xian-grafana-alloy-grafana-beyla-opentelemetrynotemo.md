# 計測とデータ取り込みを一瞬で実現：Grafana Alloy、Grafana Beyla、OpenTelemetryのデモ

Published on 2025-10-24T17:09:04Z

## Description

Grafana Alloyは、OpenTelemetryおよびPrometheusフォーマットに対応したネイティブパイプラインを提供するオープンソース ...

URL: https://www.youtube.com/watch?v=kPX4bJhs3Zo

## Summary

このYouTube動画では、ソリューションエンジニアのションマリ氏が「オープンテレメトリ」と「グラファアロイ」に関するプレゼンテーションを行いました。彼は、オブザーバビリティの重要性や、オープンテレメトリーの標準を使用することで、異なるベンダー間の移行が容易になることを説明しました。また、グラファアロイの使用により、開発者がコードを変更せずにアプリケーションのインストルメント化を行えることを強調しました。デモでは、オープンテレメトリーを利用したデータ収集やダッシュボードの自動生成についても紹介し、フリートマネジメントによるエージェントの管理の簡素化についても触れました。全体を通して、テレメトリーの効率的な管理とアプリケーションのオブザーバビリティの向上に向けたツールや技術が紹介されました。

## Chapters

00:00:00 自己紹介とセッションの概要  
00:02:30 質問方法とデモブースの案内  
00:04:00 オープンテレメトリーの標準とその重要性  
00:06:15 アプリケーションオブザーバビリティの紹介  
00:10:00 グラファクラウドの自動化されたテレメトリー  
00:12:30 インストルメントの簡単さについて  
00:15:00 グラファアロイの機能と利点  
00:18:00 ベイラを使用したインストルメント化のデモ  
00:22:00 マイグレーションツールについて  
00:25:00 フリートマネージメントの導入とその利点  
00:30:00 セッションのまとめと今後の展望  

皆さん、こんにちは。ションマリと申しまして、ソリューションエンジニアです。リシエンジニアは全でありまして、今はオブザーバビリティアーキテクトという肩書きになっております。また日本に来られて嬉しいです。しばらくぶりで、6年ぶりになります。このような形でもう一度講演できることを嬉しく思います。

スライドがありますので、質問がございましたらいつでもQRコードをスキャンして質問を寄せください。このセッションで時間がない場合は、デモブースにぜひお越しいただければ、そこでお話できればと思っています。

それでは、今日のセッションの終わる頃までには振り返りとして、グラファが現在オープンテレメトリーについてお話しします。フレードがこの後デモしますが、後でまたその話に触れます。それからマイグレーションツール、オープンテレメトリーコレクターでグラファアロイについてもお話しします。最後にデモで、どのようにこれを規模感を持ってマネージできるかという話をしたいと思います。

まずは、このぐらいにティの現状です。皆さん、似たような形で色々やっていると思いますが、色んな違う形もあると思います。これらのトレードショーや展示会、皆さんの机に入っているでしょうが、オープンテレメトリーはこういった形です。各ベンダーそれぞれやり方があって、テレメトリーのやり方が違うのです。これが非常に複雑になってしまうのです。例えば、あるベンダーから別のベンダーに移行する時に難しいのです。

我々オープンテレメトリーでは、ようやくこういうスタンダードな形でバースにチャージをしたり、様々なごちゃごちゃと持ち運ばなくても良くなったということです。グラファがオープンテレメトリーに投資をしており、オープンスタンダードを特に我々のデータは、その属するところに置いておくという考え方です。

これをオープンテレメトリーのスタンダードでも維持しています。一つの目的として、テレメトリースタンダードを使って、素晴らしいプロダクトを作る助けとなることです。アプリケーションのオブザーバビリティを見せましたし、後でもデモがあります。グラファクラウドは、自動化された形でテレメトリーをコンテクスト化し、実際アプリの中で何が起きているのかを理解を深める助けになります。

アプリケーションオブザーバビリティは、外でもデモを行っておりますが、アウトボックスのエクスペリエンスになっています。オープンテレメトリーのシグナルを提供し、ダッシュボードも自動的にコンテクスト化された形で、アプリケーションが何をしているか、サービスとの関係などを示しています。グラファクラウドは、マシンラーニングAIモデルを使って、コンテクスト化された関係をサービスとの間で示し、本題がどこにあるのかを深掘りしてくれます。

では、どのように始めるかというと、簡単です。グラファクラウドスタックは、すでに準備が完了しています。グラファクラウドスタックからエントリーポイントがあり、テレメトリーとダッシュボードはもう既に構築されていますので、すぐに開始できます。ですので、あとはインストルメントコードをオープンテレメトリーに書き換え、展開すればすぐに始められます。

「いや、そんな簡単じゃないだろうね」というお顔も見えますが、我々グラファではそういう風に理解しています。色々と時間やリソースが必要です。時間とリソース、そして知識が必要で、どのように実際にアプリケーションをインストルメントするのか、皆さんがきちんと関与し、これをワークさせるのはどうやったらいいのか、様々な理由があります。

事業がそれぞれ独自の形で運用されており、組織としてその形で運用しなければならないという形があります。インストルメントは最終的にはやらなければならないことです。ビジネスのやり方をコンテクスト化しなければならないからです。ですので、必要ですが、始めやすいツールがあります。

皆さんがコードをデプロイしてSDKを使い、ランゲージも整備し、オープンテレメトリーのスタンダードにまで持っていかなくてもいいのです。ツールがあるんです。まずはグラファアロイです。グラファアロイはオープンテレメトリーのコレクターのディストリビューションです。オープンソースプロジェクトで、このアイデアの素晴らしさは、シマンテックコンベンションに100%投資しているということです。すなわち、ニュアンスを加えていないということです。ラベリングや運用方法に関してニュアンスが加わっていないので、オープンテレメトリーのエンドポイントに送りたいときに、送りたいところにどこでも送れるということです。

同時に、その他のケイパビリティもあり、ログをログアグリゲーションシステムで収集できたり、プロミテウスでもシグナルを統合して、プロシアベースドメトリクスをスクレイピングしてプロシアプラットフォームに入れられます。これを申し上げたのは、今もこの業界で重要です。もう長いこと存在していますし、何百ものインテグレーションがあり、様々なベンダーがプロメテウスを使っています。

プロメテウスはこのインフラで重要ですが、これらを単一のエージェントに統合してテレメトリーデータにします。テレメトリーデータを誰にでも送ることができ、どこでも送れます。クラウドが良いのですが、これは皆さん次第です。また、多くのユースケースもバイナリーに反映させました。何百というコンポーネントを使ってテレメトリーシグナルを収集できるようにしています。

ダッシュボードで統合しているテクノロジーはプリビルドされており、ユーザーインターフェイスもありますので、アロイインターフェイスを取ることもできます。クラスタリングに対するサポートもあり、アロイ内で複数のインスタンスを同時に使ってメトリックスのスクレイピングが可能です。また、プログラマブルなパイプラインもあり、データのプレゼンを意味のある形でするために調整することもできます。

さらに、フリートマネジメントの要素もグラファクラウドには導入されています。これは、コンフィギュレーションを中央的に管理することができるものです。これについては後ほど説明します。

アロイコレクションについて説明しましたが、インストルメントについてお話ししたいと思います。オープンテレメトリーをコードを触ることなくスタートさせることができるというもので、これはグラファのアロイとベイラーを組み合わせることで可能になります。これが「イージーボタン」と呼んでいるものです。

オープンテレメトリーについて、デベロッパーとして様々なシステムをモニタリングしたいと思いますが、複数のチームが異なったサービスを作っていると、全員がオープンテレメトリースタンダードを使うわけではありません。ですので、コードをインストルメント化することによって組織のコンテクスト化が進みます。これは最終的にやるべきことですが、これのためにスタートできないというのもあまり良いことではありません。

このグラファのコンで発表しましたオープンソースプロジェクトでも提供しておりますので、ベイラを見てください。ベイラの良いところは、これはインストルメントツールとしてはその負荷がかからないものです。eBPFの技術を使っており、どのプログラミング言語にも対応しています。レガシーシステムをコンテナ化しようとしている時も、ベイラを使ってモニタリングすることができます。

データをどのようなプロトコルからでも取ることができ、HTTPそのRPCなど、これらのテレメトリ信号、メトリックス、トレースなどを加工することができます。また、Kubernetesではネイティブサポートが提供されています。

ライブデモの方が良いのですが、今回のタイミングは少し長すぎたので、事前に動画を撮ってきております。どうやって展開するのかというところになります。これはそのKubernetesクラスターで、ローカルのデスクトップで展開しております。このクラスターにおいて、オープンテレメトリーのデモンストレーションを展開します。

何をやるかというと、Eコマースのアプリケーションをインストールします。複数のコードベースに基づき、様々なサービスの部分に展開されます。このデモでは、オーテルコレクターがついてきますし、グラファアナも展開されています。このデモにおいてやるのは、それらを全て無効化させます。これはダークデプロイメントなので、テレメトリーで何が起こっているか見えない形にしております。

オープンテレメトリーのコレクターをリセールしました。グラファの方も外しています。あともう一つ、メリアスもリセールしました。このアプリケーションは、チェックアウト広告会計サービスが実際に提供されているEコマースプラットフォームに必要なサービスが揃っています。

現在これを動かしており、色んなサービスが今動いています。グラファアナのところは無効化されていました。次に何をやるかというと、グラファアナクラウドに行ってこのアプリケーションをインストルメントします。まずやるのはインフラモニタリングに行きます。ここでニティがモニタリングコンフィグレーションをやっているところで、コンフィグレーションのところに入ります。

簡単です。情報をクラスターの名前やどこに展開するかを入力し、このアプリのオブザーバビリティをエネイブルさせます。アクセストークンを作成し、グラファアナのクラウドとやり取りできるようにします。このデプロイメントの情報をコピーするだけです。エンドポイントが見えますので、アプリケーションをインストルメントするための情報が提供されます。

この段階では、これらの情報を取って展開させます。ただ、ベイラをここで強調したいです。ベイラをエネイブルさせ、全てのサービス、全てのクラスターで展開できるようにします。これがディプロイメントネームです。全てのサービスで展開されるということを意味しています。

ネットワークモニタリングについても申し上げたいことがあります。ネットワークモニタリングをエネイブルさせ、クラウドの中でサービスの接続性も理解できる形にします。展開した後、少しスピードアップして、今クラスター内が見えております。グラファのKubernetesモニタリングしているアロクブステーメトリクスがあります。オープンクラストモニタリングもあります。ライモンセットを見ると、グラファケイブのベイスモニタリングも展開されていることが分かります。

これが展開されてどうなったかというと、グラファクラウドに戻ってアプリに入ると、まずこのKubernetesクラスターが動いているのが見えます。ネームスペースモードワークロードでポッド数などに関連した情報が見えます。アプリケーションのアビリティを見ると、これらのアプリケーションのコンポーネントがインストルメント化されていることが示されています。

そのサービスに使われているコードベース、レッドベースのマトリクスで、サービスに関連するものが見えます。それが一つのサービス、チェックアウトサービスで、これはGOで書かれたものです。デュレーション、デュレーションディストリビューションがヒストグラムで見ることができ、ダウンストリームディペンデンシーデータベースなどが示されています。ですので、コードを触らずにインストルメント化することができました。

Kubernetesクラスターで展開し、サービスレベルのビューやサービスレベルのマップなどを得て、マトリックス、テレメトリーなどをデプロイメントから入手することができています。ビデオはそんな感じだったのではないかと思います。ですので、なかなか良いですよね。コードは全然触らずにKubernetesクラスターにおいて展開しました。

次のプレゼンの部分はマイグレーションについてです。ここでやったことは、簡単じゃないということを認識しております。今日はもう一つの体にフォーカスしたいと思います。多くのクライアントがマイグレーションしていますが、データドッグを取り上げたいと思います。実際やっているのは、アロイの中でデータドッグのレシーバーがあって、そこでデータドッグをベースにしたメトリックスを受け取り、これをオープンテレメトリーのスタンダードに変換するということです。

そのテレメトリーを取り込むインジェスターのエージェントをレシーバーにポイントし、アロイ内でアロイエージェントがデルタコンバージョンをしてくれます。ですので、このシグナルをオープンテレメトリースタンダードに変換します。次に、これをオープンテレメトリーのバックエンドへも向けることができます。出力するということです。このマイグレーションの問題のお手伝いとなると思います。

もちろん、新しいベンダーで新しいエージェントにおいては何かやりたいことがあるかもしれませんが、これが良い手始めになると思います。二つのベンダーが同じことをするために良いと思います。

次に、これがコードの事例です。データドッグエージェントのコードの例です。ロエージェントではまずオーテルレシーバーがあり、それからデルタがこの累積変換をしています。アロイエージェントの中で、そしてこのテレメトリーをバックエンドチョイスどこでもエクスポートするということです。

こちらがその結果です。メトリックスがデータドッグから出てきて、それがスタンダードで読めるものになっています。この図はどうなっているかというと、まずアプリケーションのデータドッグSDKからデータドッグエージェントに行き、デプロイしているアロイエージェントが行っている作業、そしてそれをメトリックスオープンテレメトリーのバックエンドに送るということです。

もう一つ本日お話ししたいのが、マネージメントの管理方法です。エージェントの管理はかなり繁雑になり得ます。そこでフリートマネジメントを導入しています。このフリートマネジメントによってアロイエージェントをコンフィギュレーションできます。グラファクラウドにおいて、一元的なユーザーインターフェイスでこれを一元化し、グラファアロイがそのコンフィギュレーションを何秒ごとにプルするということ、アロイエージェントの中の統計を見て、エージェントのパフォーマンスを見ることもできますし、アラート関連も見ることができます。

また、ログも見ることができ、アロイの中で何が起きているかを見ることができます。ここでも動画でデモがあります。フリートマネジメントのコレクターID、様々なコレクターがあります。またエージェントのステータス、バージョン、OSなどが示されています。カスタマーのアトリビュートも追加できるので、デブ環境なのか、チームAチームBが所有しているのか、こういった属性を追加し、コンフィギュレーションがどのようなものかというのは見やすくなります。

エージェントの健康度、ログ、アラートも見ることができます。また、エージェントのアラートやログも見ることができます。リモートコンフィギュレーションの観点から、いくつかのコンフィギュレーションも展開しています。OS、チームオーナー、実際のコンフィギュレーションがアクティブかどうか、新しいコンフィギュレーションを作ることもストレートに行えます。

今ここでやりますかね？ええ、やります。それではこの事例が、ベイラーのコンフィギュレーションを書いて、コピペをして、シンタックスに問題がないかチェックします。悪いコンフィギュレーションをエージェントにプッシュすることがないようにします。そしてこのコンフィギュレーションが終わると、フィルターを選んで、実際に我々がデプロイし、エージェントをフィルターアウトします。そして、リナックに送ってチームAにこれをデプロイ展開します。このアトリビュートを追加して保存します。

まだプッシュアウトしていませんが、一旦このアクティブを押しますと、アロイがそのコンフィギュレーションをプルダウンし、皆さんが設定したインターバルでこのコレクターの中でこれを展開します。ですので、非常に簡単です。アロイエージェント全体でこれを管理できます。

それでは、サマリーとなります。ベイラーについて、インストルメント環境からこのコードのラインを触れずに簡単にできるということを話しました。それからグラファロ、このテレメトリーシグナルで何ができるか、データパイプラインを管理してコンフィギュレーションを一元化された環境からできるという話をいたしました。

## Raw YouTube Transcript

皆さん こんにちはションマリと申し ますえソリューションエンジニアですえ リシエンジニアは全でありまして今はく オブザーバビリティアーキテクトという 肩書きになっておりますえまた日本に来れ て嬉しいですしばらくぶりです6年ぶりに なり ますこのような形でもう一度超えて公演に 思い ますスライドありますので質問ございまし たらいつでも QRコードをスキャンして質問を寄せ くださいこのセッションで時間がない 場合デモブースに是非お越しいただければ そこで話をできればと思ってい ますそれで はえ今日のセッション終わる頃までには 振り返りとしてグラファが現在オープン セメリンク と話をしてまり ますフレードがこの後デモしますがえ後で またその話 にそれ からマイグレーションツール ですオープンテレメトリーコレクターで グラファアロイえアロイについても話をし ますしまた最後にデモでどのようにこれを 規模感を持ってマネージできるかという話 をしたいと思いますそれでははこのぐらい にティの現の状況ですえ皆似たような形で 色々やってますでも色んな違う形もやっ てると思い ますこれら のトレードショとか展示会とかえ皆さん机 とかに入ってるでしょうと思います がオープンテレテレメトリーはこういった 形 です各ベダそれぞれやり方があって テレメトリーのやり方が違うんです これが非常に複雑になってしまっ て例えばあるベンダーから別のベンダーに 移行する時に難しいん です我々オープンテレメトリーではこれ ですようやくこういうスタンダードな標準 的な形でえバースにチャージをしたりえ このえ様々ごちゃごちゃと色々持ち運ば なくても良くなったいうことですグラファ がこれにオープンテレメトリーには 投資をしてまいりまし たオープン スタンダード特に我々 のえデータはその属するところに置いて おくそして我々がそこにええ接続をして ダッシュボードを作ってという形で活用 するという我々の考え方ですこれを オープンテレメトリーのスタンダードでも 維持してい ます1つダーのために行っているのは テレメトリスタンダードを使ってこれに よって素晴らしいプロダクトを作る助けと なるということですアプリケーションの オブザーバビリティを見せしましたしまた 後でもデモが外でもあります しそしてグラファ クラウドこれが自動化された形で テレメトリーをコンテクスト そして実際アプリの中で何が起きてるのか を理解を深める助けになるというもの ですアプリケーションオブザーバビリティ ですこれまた外ででもやっておりますがが アウトボックスのエクスペリエンスになっ ていますオープンテレメトリーのシグナル を提供するとそしてダッシュボードがあっ てこれも自動的にコンテクスト化された形 でアプリケーションが何をしているか そしてサービスとの関係などを示してれ ますそれからグラフな クラウドこれもマシンラーニングAI モデルを使ってコンテクスト化された関係 をサービスとの間で示してくれるそして 本題がどこにあるのか深掘りをしてくれる とよりこれを簡単に行えるようになってい ます ではどのように始めるかであります簡単な んですグラファなクラウドスタックは すでにもう準備が完了してい ますですのでグラファなクラウドスタック そこからエントリーポイントがありますの でテレメトリーそしてダッシュボードは もう既に構築されていますのですぐ開始 できますえですのでもうあと1歩だけ ですあとするのはインストルメントョ コードをオープンテレメトリーに 書き換えるそしてもう展開すればもうすぐ に始められるんです えいやそんな簡単じゃないだろうねって いうお顔も見えるんです が我々グラファなーでそういう風に理解し ました色々と時間やリソースが必要なん ですえ時間とリソースそして知識えどの ようにやるのかどうやって実際に アプリケーションをインストルメント ションするのか皆さんがきちんと関与して これをワークさせるのはどうやったらいい のか色々とこのコードをインストルメント する理由は色々あり ます事業がそれぞれその独自の形で運用さ れているえそして組織としてその形で運用 しなきゃいけないという形があるわけです インストルメントはゆくゆくはやらなきゃ いけないことですコンテクスト化にしてえ ビジネスのそのやり方をコンテスト化し なきゃいけないからですなのでゆくゆく 必要なんですがそれを簡単にする始め やすいツールがあります皆さんがコドを デプロイしてsdkをやってランゲージも 整備してそしてオープンテレメトリーの スタンダードにまで持っていかなくても いいんですツールがあるんですまずは グラファアロイですグラファアロイ はオープンテレメトリーのコレクターの ディストリビューションですオープン ソースプロジェクト でえこのアイで素晴らしいのはえ シマンテックコンベンションオープン テレメトリーを100%投しているという ことなんですすなわちニュアンスを加えて いないっていうことですラベリングやその 運用方法に関してニュアンスが加わってい ないのでえどのオープンテレメトリーのエ エンドポイントに送りたいという時に送り たいとこどこでも送れるということですと 同時にその他のケイパビリティもあって ログをログアグリゲーションシステムで 収集できたりプロミシスでも プロミシスこのシグナルを統合して プロシアベースドメトリクスをえこれが スクレイピングして プロシアえプラットフォームに入れれ ますこれを今申し上げたのは プ今もこの業界では重要ですえもう長い こと存在していますし何百もの インテグレーションがあったえ様々な メンダーがプロメテウスを使っています までも重要性は薄れていないんですが しかし2つ目にのポピュラーなこの オープンテレメトリープロジェクト オープンテレメトリーのレシーバーに ついで2番目にポピュラーなです アドバイザリーボードのえは皆 プロメテウスを使ってますユーザーの 85%が今でもプロメテウス使ってい ますプロメテウスはこのインフラです重要 なんですがこれらを単一のエージェントに 統合してテレメトリーデータにしますえ テレメトリーデータを誰に送ってもいいん ですどこでも送れ ますクラウドがいいのですがでもこれは皆 さん次第 ですまた多くのユースケースもバイナリー に反映させました何百っていう コンポーネントを使でテレメトリー シグナルを収集できるようにしております またダッシュボード でま統合してるテクノロジーでプリビルド されておりますユーザーインターフェイス もあるのでアロイインターフェイスを取る こともできますクラスタリングに対する サポートもありますアロイ内においてなの で複数のインスタンスをま同時にえ使って メトリックスのスクレイピングはできます またプログラマブルなパイプラインもあり ますでデータをあのまコストを削減する ためでデータのプレズンをあの意味がある ような形でするためにまその調整すること もでき ますまたフリートマネジメントの要素と いうものもグラファクラウドには導入し ましたえこれはコンフィグレーションを その中央的に管理することができるとい ものでこれでまた後ほどちょっと説明し ますアロイコレクションについてあの説明 しましたテレメトリーの収集のところです でインストルメントについてお話したいと 思い オープンテレメトリーをまコードを触る ことなくスタートさせることができ るっていうものでありますこれはグラファ のアロイとベイラーを組み合わせてやる ことで可能になりますでこれがイージ ボタンという風に我々言っておりますえ オープンテレメトリについてま デベロッパーとしていろんなシステムを モニタリングしたいと思いますで複数の チームが異なったサービスを作ってると 全員がそのオープンテモテスタンダードを 花を使ってくれるわけではないのでなので コードをインストルメント化することに よって組織のコンテクスト化させるでこれ は最終的にやるべきえことなのでただこれ ががためにスタートできないというのも あまりいいことでありませんでこのグラフ ラコンで発表しましたオープンソース プロジェクトでも提供しておりますなので ベイラ見てくださいでベイラのいいところ はこれはインストルメントツールとしまし てはその和がまかかんないものであります でebpfの技術を使っておりますでどの えそのプログラム言語にも対応しており ますレガシーシステムをまコンテナー化 しようとえしている時もえベイラを使って モニタリングをすることができますその サービスなんかについ てでデータをどのようなプロトコールえ からでも取ることができますhttpその RPCですとかこれらのテレメトリ信号え メトリックストレースなどをその加工する ことができますでキバネテそれでは ネイティブサポートが提供されております で私はライブデモの方がいいんですけども まちょっと今回のタイミングはちょっと あの長すぎたのでえ事前にその動画をあの 撮ってきておりますどうやって展開するの かというところになりますでこれはその バティのクラスターであってまローカルの デスクトップでしとり展開しておりますで クラスターを作りますでこのクラスターに おいてオープンテレメトリーの デモンストレーションをえ展開しますに 基づいてやつですで何をやるかというとE コマスのアプリケーションインストールし ますで複数のコードベースに基づいてで 様々なサービスのの部分にえ展開されると で何ができるかと言うとこのデモは オーテルコレクターがついてきますしで グラファなスコティエガもうこ展開されて いるとでこのデモにおいてやるのはでそれ らを全て無効化させますなのでこれは ダークデプロイメントなのでテレムで何が 起こってるか見えない形にしておりますで オープンテレマルティのコレクターを リセールしましたグロフのも映画を外して ますあともう1つありますメリアスえこれ もあのリセールしましたでこの アプリケーションはチェックアウトえその 広告会計サービスがま実際に提供されて いるeコマースプラットフォームに必要な サービスがま揃っているものであります でで今これを動かして おりでいろんなサービスが今動いてるとで グロフアナあのところはその無効化されて いたとで次何をやるかというとグロフ アルナクラウドに行ってこの アプリケーションをインストルメントし ますまずやるのはインフラモニタリングに 行きますここでニティがえモニタリング コンフィグレーションをやってるところで あってでコンフィグレーションのところに 入りますで簡単ですていうのも情報もその まクラスタークラスターの名前どこに展開 するかっていうことを入力しでこのアプョ のオブザーバビリティをエネイブルさせ ますでアクセストーキンを作りますなので グロファラのクラウドとやり取りができる ようにするでこれがそのえデプロイメント この情報をコピーするだけですでエンド ポイントが見えますのでアプリケーション インストルメントするんだったらそれも できますその情報が提供されており ますこの段階でやるのはこれらの情報を 取ってそれを展開させますただベイラを ここで強調したいでベイラをエネイブルさ せます効させまし たで全てのサービス全てのクラスターで 展開できるようにしましたでこれが ディプロイメント ネームドこれ全てのサービスで展開され るっていうことを意していますあとここで もう1つ申し上げたいのがネットワーク モニタリングについてですネットワーク モニタリングをエネイブルさせました クラウダーの 中サービスのその接続性というものも理解 できる形にしておりますで展開しましたえ ちょっとこのスピードアップして今 クラスター内が見えておりますグラファな クバネティスのモニタリングしてるアロ クブステーメトリクスがありますオープン クラストモニタリングもありますで ライモンセットを見る とグラファケイブの えベイスモニタリングも展開されてことが 分かりますでこれが展開されてどうなった かてことなんですけどグラファクラウドに 戻ってアプリに入るまずこのバニティの クラスタークラスターが動いてるのが見え ますでネムスペースモードワクロードで ポッド数などに関連した情報が見えますで アプリケーションのアビリティを見ると これらのアプリケーションの コンポーネントていうのが インストルメント化されてることが示され ておりますでそのサービスに使われてる コードベースえレッドベースの マトリクスでこれねのサービスに関連する ものが見えますしでそれが1つのサービス をする とでチェックアウトサービスこれはその GOで書かれたものですでま デュレーションデュレーション ディストリビューションがヒストグラムで 見ることができますしダウンストリーム ディペンデンシーデータベースなどが示さ れておりますなのでコードを触らず インストルメント化することができました でクニズクラスターで展開しでサービス レベルのビューをえまたサービスレベルの マップなどを得て でそのマトリックス えテルマなどをデプロイメントからそのえ 入手することができておりますビデオは そんな感じだったんではないかと思います なのでなかなかいいですよねまコードは 全然触らずでバネキクラスターにおいて 展開しまし た次 のえプレゼンの部分はマイグレーションに ついて移行についてとなりますここでやっ たことなんですけどもまシいうのは簡単 じゃないということは認識しておりますで 本日 はまあのもう1つの体にフォーカスしたい ま多くのそのクライエントが マイグレーションしているダータードゴを て取り上げたいと思います実際やっている のはアロイの中でデータドッグの レシーバーがあるのでそこでデータドッグ をベースのメトリックスを受け取って そしてこれオープンテレメトリー スタンダードに変換するということです えそのテレメトリーを取り込む インジェスターのエージェントこれを レシーバーにポイントするんですアロイ ないでそれからアロイエージェントが デルタコンバージョンをしてくれるとです のでこのシグナルをオープンテレメトリー スタンダードに変換します次 にえこれをオープンテレメトリーのえどの バックエンドへもえこれを向けることが できる出力するということですこの マイグレーションの問題のお手伝いとなる と思っていますもちろん新しいベンダでえ その新しいエージェントにおいてはえ何か やりたいとあるかもしれませんがこれが いい手始めになると思いますえその2つの ベンダーが同じことしてするためにいいと 思い ますえ次にこれがコドの事例 ですデータドッグエージェントのコードの 例 ですロエージェントではまずオーテル レシーバーがあっ て 44それからデルタがこの累積変換をして いますアロイエージェントの中でそして このテレメトリーをバックエンドチョイス どこでもえそのバックエンドにこれを エクスポートするということですこちらが その結果ですメトリックスがデタログ チェットから出てきてそっからー のスタンダードで読めるものになってい ますこの図はそれがどうなものなのかまず アプリケーションのアプリケーションえ データログsdkそこからデータロッグ エージェントに行ってそしてデプロイして いるアロイエージェントが行っている ワーク作業そしてそれを メトリックスオープンテレメトリーのえ バックエンドにこれを送るということです もう1つ本日話申し上げたいのが マネージメント管理方法ですエージェント の管理はかなり繁雑になり得 ますそこでフフリートマネージメントを 導入していますこのフリート マネージメントによってアロイ エージェントをコンフィギュレーション できますえ1番一元的なえユーザー インターフェイスグラファなクラウドに おいてこれを1元化しそしてグラファ アロイがそのコンフィギュレーションをえ その何秒ごとにその コンフィギュレーションごとにこれをプル するということそれからアロイ エージェントの中の統計を見てそして エージェントのパフォーマンスを見ること もできますしまたアラート関連も見ること ができるまたログも見ることができます何 がアロイの中で起きているかえ見ることが でき ますここでも動画をえデモで持っています えフリートマネージメントですね コレクターIDえ様々なコレクターがあり ますまたエージェントのステータス バージョンOSなどが示してありますあと はカスタマーのアトリビュートもこちらに え追加できますのでえデブ環境なのか チームAチームBが所有しているのかこう いったような属性 を追加してそしてコンフィグレーションが どのようなものかというのは見やすくなり ますそれからそのエージェントのヘルス 健全性それからログも見られるそれから アラートエージェントがした アラートまたラブックレーティング などエージェントアラートの中のも見る 見ることができますそこでリモート コンフィギュレーションの観点から はいくつかコンフィギュレーションも展開 していますOSチーム オーナー実際のコンフィギュレーションが アクティブかいな か そして新しいコンフィグレーションを作る えこれもストレートに行え ます今ここでやりますかねはいやりますね この事例がこのベイラーの コンフィギュレーションを書いてコピペを し てシンテックがえ問題だということで シンタクスチェッカーにかけまして悪い コンフィギュレーションをエージェントに プッシュすることがないようにしますえ そしてこのコンフィギュレーションが 終わるとフィルターを選んで実際の我々が デプロイしエージェントをえフィルター アウトしますそしてリナックに送っ てチームAにこれをデプロイ展開し ますこのアトリビュートを追加してセーブ 保存 ですまだプシュアウトしてませんが一旦 このアクティブを押しますとアロイがその コンフィギュレーションをプルダウンし てそして皆さんが設定したインターバル 感覚でこのコレクターの中でこれを展開し ます ですので非常に簡単ですアロイ エージェントえ全全体でこれを管理する ことができますそれではサマリーとなり ますベイラについてこれがいかに簡単に この インストルメント環境からえこの行動の ラインを触れずに簡単にできるということ 話をしましたそれからグラファロですこの テレメトリーシグナルでなことができ ますデータパイプラインを管理して コンフィギュレーションを一元化された 環境からできるとマネージができるという 話をいたしました

