# All About the Amazon CloudWatch Data Source in Grafana | GrafanaCON 2024 | Grafana

In this session, AWS Senior DevOps Consultant Faisal Shahdad gives an overview of the latest features of the Amazon ...

Published on 2024-04-25T23:59:45Z

URL: https://www.youtube.com/watch?v=IiVY_ljeZVE

Transcript: thank you thank you everyone uh my as my name is this okay my name is Fel shad and I work for um a AWS Professional Services and at Amazon of course uh so today U I'm going to speak to you about how you can integrate your AWS uh cloudwatch data source with the gra dashboards uh for you to understand the demo uh better so I have some I've have set some agenda for you so today we will first start with what what grafana is of course everyone of you knows that uh we'll then uh take a brief uh look at the Amazon manage service for grafana and how you can quickly get started uh then we'll talk about some of the use cases and uh and at the end we will have a small video demo presentation uh about how you can integrate Amazon cloudwatch with uh with Amazon manage grafana workspace and create ports um from your cloudwatch locks or your cloudwatch metrics uh first let's get started what is grafana all of you know that grafana is uniquely grafana uniquely visualizes and combines insights from multiple open source cloud or third party data sources uh without moving the data um and it has become among uh the most popular operational D dashboard Technologies in the world how do I know uh I'll take you to the cncf survey back which was run by back in 2020 uh which revealed that around 69% of uh the Enterprise customers use Prometheus and grafana because of its uh you know uh shorter deployment time uh improved stability or scalability and also it's Cloud portability so you can use it with with multiple clouds uh and at AWS we offer Amazon managed grafana Service uh we we call it Amazon managed service for grafana um and which is a fully managed Service uh multicloud U cross project Services uh with interactive data visualization uh capabilities uh and using managed grafana you can analyze Monitor and set alarms on metrics logs traces um across multiple data sources including AWS or other cloud cloud providers uh or third party isvs and also databases and Amazon managed grafana natively integrates with AWS Services uh and supports plugins from all the other Cloud vendors uh and whatever you know you use uh but then also you can securely add query or visualize your or analyze your AWS data across multiple accounts and regions just with with few clicks on the AWS Management console and for those of you who don't know what a managed service is at AWS we Define it as uh for example we Define manage grafana as which completely offloads the operational management of grafana by automatically scaling compute and database infrastructure as usage demand increases uh and with automated version updates and also uh security patching is comes out of the box so the customers or you you don't have to worry about the underlying infrastructure it automatically scales as and when uh the demand increases and also manage grafana also integrates with AWS identity [Music] identity Center which is which was previously known as AWS SSO I hope you might have used it uh to ensure that you that your corporate directory users can also U get access to the dashboards and Al to also to data sources which they should have permission to and uh and speaking of of data sources it's not just AWS U Services that you can query and visualize uh data from the managed gra service also supports flat of um of other plugins that are built or developed by graphon apps and also the the community members over the years as you can see on the left um you can also integrate um you know your self-managed graphite or DB uh or inflex DB sources as as and if you want to also consolidate all the information or or all the observability data stored in Amazon or azure Azure monitor or Google operations then you can simply you know use a plugin and and get started and uh when talking about uh I've also talked about this before graan power lies in its ability to integrate with multiple data sources and also enable customers to bring all the data sources in in one place uh B logs metrics or traces from from your either from your iot devices and and much more and and some of the data sources that AWS integrates that you can integrate grafana with is AWS cloudwatch which is which is today's talk and at the end I will show you how how you can do that but also x-ray for traces and so on and so forth you can also use Amazon uh you can also upgrade to grafana Enterprise uh from the AWS Management console itself and if you do that you will get access to even more Enterprise plugins uh that can um give you more flexibility and options to unify and and visualize your data which are which you want on the on the managed uh Enterprise uh grafana workspace and that that leads us to the question how do we get really started with with Amazon managed database uh it's it's very simple all you need to do is to go down to your AWS console and look for Amazon managed graphon Service uh you can create a and just create a workspace over there uh you can integrate your IM users or your SSO users U also then you can kind of set the notifications through AWS SNS which is the one of the notification Services there and click finish that's all and once once that's done then you will uh you can then add or connect to data sources that you wish you wish to add and once that's done uh then you will get the unique URL which you can use to access your your dashboard and uh let let's see how that works in action um first you you go down to your a console and then look for Amazon grafana grafana service and click a a workspace uh then configure the settings which is if you want to add your AWS users or if you want to add other users is you can also add the the users who are not in the AWS idty Center and and that's it then also select the services that you wish like you wish to integrate with uh which will automatically add the right permissions from the I IM to the Amazon managed uh grafana um and and that's it that's that's how you get started and once you click on finish then you will you will see this screen which will give you the unique URL that you can use to access the dashboard or if you want to share it with whoever you wish to share it with you can also do that and and once the data sources are connected and then you can create cool dashboards like you see one on the screen um and also you know you can share like I said you can share it with whoever you you wish to share it with and before we start the demo or before I play the the video let's first talk let's maybe talk about some of the use cases that you might be seeing and also we have seen at at AWS our customers use grafana for one of them is the for un ified observability uh you can use Amazon manage grafana to centralize and correlate data into a single dashboard uh then also you can use this for uh creating dashboards for your uh container monitoring for example if you're using Amazon eks service or Amazon ECS service which is the container service you can use cloudwatch integrated with with cloudwatch which I'm going to show you today and then uh create cool looking dashboards and also share it with with others but that's not all you can also use um you know services from other Cloud vendors then you can also plug them in plug it in using the uh third party plugins and the third one is for you you can use grafana for like have one dashboard for all of your data sources for example if you have a team or or different teams using different data sources you can use AWS uh grafana or AWS manag grafana to create one single View for all of your data sources and uh also you can use Amazon manag grafana for troubleshooting operational uh issues collaboratively for example uh if there's an issue and and your team is kind of working on it you can share the grafana dashboard video your stakeholders so that all of your team members who are kind of troubleshooting and also looking at how is if the issue is resolved or not you will be able to share it with with the same with the people from the same link for example uh to to to get the higher visibility of if everyone is looking at the same same issue and if it gets resolved or not but then that's not all you can also publicly share your uh your dashboards using using the links or the U or the URL either uh with your own team or who is or with someone who's not uh part of AWS identity Center and also my colleague is going to uh show you how uh how to also monitor iot iot devices using using grafana but then grafana has a very good use case for that because grafana is extensible data plugin uh architecture and flexible graphing um options makes it popular for monitoring iot devices also if you have seen that the um ask the experts uh booth there is a company who is there they have created this cool looking dashboard uh and they are taking data from the iot devices but also my friend gam is going to show you uh that in action uh but that's not all you can also use grafana for um software development life cycle purposes or for software development life cycle monitoring uh if you upgrade to the grafana Enterprise then you can you can leverage the uh atlassian JRA plugin uh to pull all the software development life cycle artifacts that can then track PO requests and also code commits and can monitor U release uh you know software releases alongside uh the application health and performance data and all in one place um and with that I'll just I'll start a demo uh demo video and in the demo video it takes approximately 2 minutes uh to finish where you will see how uh to connect the Amazon manage grafana with the cloudwatch uh data source and uh how to build cool looking dashboards uh for your cloudwatch logs and of also your Cloud watch metrics so let me now do that so just give you some some context i' already deployed a workspace in the Amazon uh you know account and that's how it looks um now let's play the video and then see how how to add the dashboards and first of all once once you get access you can go down to the data sources and look for cloudwatch and you can also see how many other other data sources also you can you can use uh with with with the managed Service uh search for cloudwatch and that's how you get have already installed it by the way so that it's easier and then by default you get some of the dashboards so you can import these dashboards or create your own but in this case we're going to create our own dashboards so go down to the panel create one of the panels um select the right region from here you wish to where you are kind of running the services and stuff um go go down to the Amazon uh cloudwatch logs and then you can add your query and however you wish to do in this case I am using um I'm just taking I'm filtering all the not 200 errors I mean which an error code which is not 200 so that U I'm able to uh you know put the dashboards out there but then after that I'll let another dashboard uh for for the response code which is equal to 200 U so that you get to see uh also that dashboard which which is not uh which has not errored for example uh and there's also one more dashboard I wish to add I wish to take the U metrics from the ECS that I've created previously I wish to uh look for the average CPU utilization and also add that to uh to the dashboard and that's it you will get get to see the ECS average average util eks posco pass counts and also eks eror counts so that's all for this if you have any questions later on I can you know come back you can come back to me and we can have a chat on this uh uh but let's just quickly recap um uh so it's very easy you have seen it's very easy to create a grafana workspace using a manage services to bring together uh observability data sources across multiple uh a services and also across across multiple clouds uh but secondly you have seen that grafana dashboards um grafana workspaces are fully managed uh with automatic security patching and also version upgrades so you do not have to worry about the underlying infrastructure AWS takes care of that that's why it's called as Amazon Amazon managed Service uh but also uh you can deploy uh you can use this to get data from from multiple Services which are deployed across regions uh and last but not the least you can also uh easily upgrade uh you know uh to Amazon grafana Enterprise version where you will get to see more Enterprise level plugins which which you wish to update or maybe use uh with your use cases and that's it I will leave you with this resources uh you can go go down to Google and then look also for this if you want to know more about it so the first one is the is the is the grafana documentation and the second one is also public road mapap that aw us has published where uh you can you have like full transparency over whenever new services or new features are to be added uh but yeah with that there's also documentation link uh and thank you uh for your attention but if you have any questions I will be here uh you can also reach out to me over my email or maybe use uh the um slack for grafana I'm also um you know connected there and and that's it thank you very much for your attention

